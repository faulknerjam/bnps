{
    "contents" : "#' Fit Bayesian nonparametric adaptive smoothing model with stan\n#'\n#' @param prior A character string specifying which prior to use on order-k differences. Choices are \"horseshoe\", \"laplace\", and \"normal\".\n#' @param likelihood A character string specifying the probability distribution of the observation variable. Current choices are \"normal\", \"poisson\", and \"binomial\".\n#' @param order Numeric value specifying order of differencing (1, 2, or 3).\n#' @param zeta The hyperparameter for the global smoothing parameter gamma.  This is the scale parameter of a half-Cauchy distribution.  Smaller values will result in more smoothing depending on the prior specification and the strength of the data. Values must be > 0.\n#' @return An object of class 'stanfit'.\n#' @seealso get_model, get_init, rstan::stan\n#' @export\n\n\nbnps <- function(prior=\"horseshoe\", likelihood=\"normal\", order=1, zeta=0.01, ...)  {\n\n\t\t# check for rstan\n\t\t if (!requireNamespace(\"rstan\", quietly = TRUE)) {\n    \t\t\tstop(\"Package 'rstan' needed for this function to work. Please install it.\", call. = FALSE)\n  \t }\n\t\tif (!(prior %in% c(\"horseshoe\", \"laplace\", \"normal\"))) stop(\"Must specify prior of type 'normal', 'laplace' or 'horseshoe'.\")\n  \tif (!(likelihood %in% c(\"normal\", \"poisson\", \"binomial\"))) stop(\"Must specify likelihood of type 'normal', 'poisson' or 'binomial'.\")\n\t\tif (!(order %in% c(1,2,3))) stop(\"Model must be of order 1, 2, or 3.\")\n\t\tif (zeta <= 0) stop(\"zeta must be > 0.\")\n\n\t\tstlist <- list(...)\n\t\ttmp.dat <<- stlist$data\n\t  mcode <- get_model(prior=prior, likelihood=likelihood, order=order, zeta=zeta)\n\t  finits <- get_init(prior=prior, likelihood=likelihood, order=order)\n\n\t\t# remove any model or init spec from ...\n\t\t# check if is an initialization\n\n\t\tsfit <- stan(model_code = mcode, init=finits, ...)\n\t  rm(tmp.dat, envir=.GlobalEnv)\n\n\t  return(sfit)\n}\n\n\n",
    "created" : 1450199833009.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2515980882",
    "id" : "1F053731",
    "lastKnownWriteTime" : 1450202217,
    "path" : "~/Classes/Research/packages/bnps/R/bnps.r",
    "project_path" : "R/bnps.r",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}